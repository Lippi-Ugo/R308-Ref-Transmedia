---
const { src, name, index } = Astro.props;
const displayName = name?.replace(/\.[^/.]+$/, '').replace(/-/g, ' ') ?? 'photo';
---

<div class="rounded-xl overflow-hidden bg-linear-to-b from-white/90 to-white shadow-md hover:shadow-lg hover:-translate-y-1 transition-all duration-300">
  <img src={src} alt={displayName} loading="lazy" class="w-full h-64 object-cover bg-gray-200" />
  <div class="p-3 flex items-center justify-between">
    <div class="truncate">
      <div class="text-sm font-medium text-slate-900 truncate overflow-hidden text-ellipsis whitespace-nowrap max-w-xs">{displayName}</div>
    </div>
    <div>
      <button
        aria-label={`Voir ${displayName}`}
        onclick={`window.openModal(${index})`}
        class="ml-3 inline-flex items-center gap-2 px-3 py-1 rounded-full bg-teal-600 hover:bg-teal-700 text-white text-xs cursor-pointer focus:outline-none focus:ring-2 focus:ring-teal-300"
      >Voir</button>
    </div>
  </div>
</div>